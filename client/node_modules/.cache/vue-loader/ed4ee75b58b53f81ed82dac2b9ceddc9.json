{"remainingRequest":"/home/minht/Projects/vue/mevn-blog/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/minht/Projects/vue/mevn-blog/client/src/pages/Write.vue?vue&type=style&index=0&id=2818b86b&scoped=true&lang=css&","dependencies":[{"path":"/home/minht/Projects/vue/mevn-blog/client/src/pages/Write.vue","mtime":1637923711523},{"path":"/home/minht/Projects/vue/mevn-blog/client/node_modules/css-loader/dist/cjs.js","mtime":1635854559875},{"path":"/home/minht/Projects/vue/mevn-blog/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1635854563590},{"path":"/home/minht/Projects/vue/mevn-blog/client/node_modules/postcss-loader/src/index.js","mtime":1635513098477},{"path":"/home/minht/Projects/vue/mevn-blog/client/node_modules/cache-loader/dist/cjs.js","mtime":1635854546509},{"path":"/home/minht/Projects/vue/mevn-blog/client/node_modules/vue-loader/lib/index.js","mtime":1635854563590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLndyaXRlIHsKICBwYWRkaW5nLXRvcDogNTBweDsKfQoKLndyaXRlLWltZyB7CiAgbWFyZ2luLWxlZnQ6IDE1MHB4OwogIHdpZHRoOiA3MHZ3OwogIGhlaWdodDogMjUwcHg7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBvYmplY3QtZml0OiBjb3ZlcjsKfQoKLndyaXRlLWZvcm0gewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQoKLndyaXRlLWZvcm0tZ3JvdXAgewogIG1hcmdpbi1sZWZ0OiAxNTBweDsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KCi53cml0ZS1pY29uIHsKICB3aWR0aDogMjVweDsKICBoZWlnaHQ6IDI1cHg7CiAgZm9udC1zaXplOiAyMHB4OwogIGJvcmRlcjogMXB4IHNvbGlkOwogIGJvcmRlci1yYWRpdXM6IDUwJTsKICBjb2xvcjogcmdiKDEyOSwgMTI1LCAxMjUpOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi53cml0ZS1pbnB1dCB7CiAgZm9udC1zaXplOiAzMHB4OwogIGJvcmRlcjogbm9uZTsKICBwYWRkaW5nOiAyMHB4OwogIHdpZHRoOiA3MHZ3Owp9Cgoud3JpdGUtaW5wdXQ6OnBsYWNlaG9sZGVyIHsKICBjb2xvcjogcmdiKDE4OSwgMTg1LCAxODUpOwogIGZvbnQtd2VpZ2h0OiA0MDA7Cn0KCi53cml0ZS1pbnB1dDpmb2N1cyB7CiAgb3V0bGluZS1zdHlsZTogbm9uZTsKfQoKLndyaXRlLXRleHQgewogIHdpZHRoOiA3MHZ3OwogIGhlaWdodDogMTAwdmg7CiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7CiAgZm9udC1zaXplOiAyMHB4Owp9Cgoud3JpdGUtc3VibWl0IHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAyMHB4OwogIHJpZ2h0OiA1MHB4OwogIGNvbG9yOiB3aGl0ZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiB0ZWFsOwogIHBhZGRpbmc6IDEwcHg7CiAgYm9yZGVyOiBub25lOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgZm9udC1zaXplOiAxNnB4OwogIGN1cnNvcjogcG9pbnRlcjsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0K"},{"version":3,"sources":["Write.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Write.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div class=\"write\">\n    <img v-if=\"file\" class=\"write-img\" :src=\"post_photo\" alt=\"\" />\n    <form class=\"write-form\" @submit.prevent=\"handleSubmit\">\n      <div class=\"write-form-group\">\n        <label for=\"fileInput\">\n          <i class=\"write-icon fas fa-plus\"></i>\n        </label>\n        <input\n          id=\"fileInput\"\n          type=\"file\"\n          style=\"display: none\"\n          @change=\"onFileSelected\"\n        />\n        <input\n          class=\"write-input\"\n          placeholder=\"Title\"\n          type=\"text\"\n          autoFocus=\"true\"\n          v-model=\"title\"\n        />\n      </div>\n      <div class=\"write-form-group\">\n        <textarea\n          class=\"write-input write-text\"\n          placeholder=\"Tell your story...\"\n          type=\"text\"\n          autoFocus=\"true\"\n          v-model=\"desc\"\n        />\n      </div>\n      <button class=\"write-submit\" type=\"submit\">Publish</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport BlogService from \"../services/BlogService\";\n\nexport default {\n  name: \"Write\",\n  data() {\n    return {\n      username: \"\",\n      title: \"\",\n      desc: \"\",\n      file: \"\",\n      post_photo: \"\",\n    };\n  },\n  computed: {\n    ...mapGetters([\"user\"]),\n  },\n  methods: {\n    onFileSelected(event) {\n      this.file = event.target.files[0];\n      console.log(event.target.files[0]);\n      const data = URL.createObjectURL(event.target.files[0]);\n      this.post_photo = data;\n    },\n    handleSubmit() {\n      const newPost = {\n        username: this.user.username,\n        title: this.title,\n        desc: this.desc,\n      };\n      if (this.file) {\n        const data = new FormData();\n        const filename = Date.now() + this.file.name;\n\n        data.append(\"name\", filename);\n        data.append(\"file\", this.file);\n        newPost.photo = filename;\n\n        BlogService.postFile(data)\n          .then(() => {\n            console.log(data);\n          })\n          .catch((error) => {\n            console.log(\"There was an error:\" + error.res);\n          });\n      }\n      BlogService.newPost(newPost)\n        .then((res) => {\n          this.$router.push(\"/post/\" + res.data._id);\n        })\n        .catch((error) => {\n          console.log(\"There was an error:\" + error.res);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.write {\n  padding-top: 50px;\n}\n\n.write-img {\n  margin-left: 150px;\n  width: 70vw;\n  height: 250px;\n  border-radius: 10px;\n  object-fit: cover;\n}\n\n.write-form {\n  position: relative;\n}\n\n.write-form-group {\n  margin-left: 150px;\n  display: flex;\n  align-items: center;\n}\n\n.write-icon {\n  width: 25px;\n  height: 25px;\n  font-size: 20px;\n  border: 1px solid;\n  border-radius: 50%;\n  color: rgb(129, 125, 125);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n\n.write-input {\n  font-size: 30px;\n  border: none;\n  padding: 20px;\n  width: 70vw;\n}\n\n.write-input::placeholder {\n  color: rgb(189, 185, 185);\n  font-weight: 400;\n}\n\n.write-input:focus {\n  outline-style: none;\n}\n\n.write-text {\n  width: 70vw;\n  height: 100vh;\n  font-family: inherit;\n  font-size: 20px;\n}\n\n.write-submit {\n  position: absolute;\n  top: 20px;\n  right: 50px;\n  color: white;\n  background-color: teal;\n  padding: 10px;\n  border: none;\n  border-radius: 10px;\n  font-size: 16px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n}\n</style>"]}]}